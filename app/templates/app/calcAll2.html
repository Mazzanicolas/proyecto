{% load render_table from django_tables2 %}
{% load static %}
<link rel="stylesheet" href="{% static 'app/css/bootstrap.min.css' %}">
<link rel="stylesheet" href="{% static 'app/css/main.css' %}">
<!doctype html>
<html>
    <head>
        <link rel="stylesheet" href="{% static 'django_tables2/themes/paleblue/css/screen.css' %}" />
    </head>
    <body>
      <!--NavBar-->
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
              <li><div class="panel panel-default"><div class="panel-body"><b>Individuo</b>
                    <input type="text" id="myInput" onkeyup="filter()" placeholder="Buscar por Individuo.." class="form-control"></div>
              </div></li>
              <li><div class="panel panel-default"><div class="panel-body"><b>Centro</b>
                    <input type="text" id="myInput1" onkeyup="filter()" placeholder="Buscar por Centro.." class="form-control"></div>
              </div></li>
              <li><div class="panel panel-default"><div class="panel-body"><b>Dia</b>
                    <input type="text" id="myInput2" onkeyup="filter()" placeholder="Buscar por Dia.." class="form-control"></div>
              </div></li>
            </ul>
          </div>
        </div>
      </nav>
        {% render_table result "app/mytable.html" %}
    </body>
    <script type = "text/javascript">
      function filter() {
          var persona = document.getElementById("myInput").value.toUpperCase().trim();
          var centro  = document.getElementById("myInput1").value.toUpperCase().trim();
          var dia     = document.getElementById("myInput2").value.toUpperCase().trim();
          var rows = document.querySelectorAll("tr");
          for (var i = 1; i < rows.length; i++) {
              var items = rows[i].querySelectorAll("td");
              if (items.length === 0) continue;
              var id_persona = items[0+1];
              var id_centro = items[1+1];
              var id_dia = items[2+1];
              var id_p_text = id_persona.innerHTML.toUpperCase().trim();
              var id_c_text = id_centro.innerHTML.toUpperCase().trim();
              var id_dia_text = id_dia.innerHTML.toUpperCase().trim();
              if (id_p_text.includes(persona) &&
                  id_c_text.includes(centro) &&
                  id_dia_text.includes(dia)) {
                  rows[i].style.display = "";
              } else {
                  rows[i].style.display = "none";
              }
          }
      }
    </script>
</html>
